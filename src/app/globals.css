@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- הגדרות ליבה --- */
.ag-cell {
  overflow: visible !important;
}

/* === ביטול ריפוד בתאים לאפשרות כיווץ מקסימלי === */
.ag-theme-quartz .ag-cell, 
.ag-theme-quartz-dark .ag-cell {
    padding-left: 2px !important;
    padding-right: 2px !important;
}

/* החזרת גבולות העמודות (קווים אנכיים) */
.ag-theme-quartz-dark, .ag-theme-quartz {
    /* גבולות אנכיים בין התאים בגוף הטבלה */
    --ag-cell-horizontal-border: solid 1px rgb(226, 225, 236) !important;
    /* מפרידים אנכיים בין הכותרות */
    --ag-header-column-separator-display: block !important;
    --ag-header-column-separator-height: 100% !important;
    --ag-header-column-separator-width: 1px !important;
    --ag-header-column-separator-color: rgb(226, 225, 236) !important;
}

/* התאמת צבע הגבולות לערכת הנושא הכהה */
.ag-theme-quartz-dark {
    --ag-cell-horizontal-border: solid 1px rgb(4, 1, 23) !important;
    --ag-header-column-separator-color: rgb(4, 1, 23) !important;
}

/* --- עיצוב הכותרת: אייקון מעל טקסט --- */

.ag-header-cell-comp-wrapper {
    display: flex !important;
    flex-direction: column !important; 
    align-items: center !important;    
    justify-content: flex-end !important;
    height: 100% !important;
    padding-bottom: 4px !important;    
    position: relative !important;
}

/* לייבל הטקסט עם מרווח מהאייקון העליון */
.ag-header-cell-label {
    display: block !important;
    width: 100% !important;
    text-align: center !important;     
    white-space: normal !important;    
    word-break: break-word !important;
    line-height: 1.1 !important;
    margin-top: 22px !important;       /* מרווח קבוע מלמעלה עבור כפתור התפריט */
    padding: 0 4px !important;
}

.ag-header-cell-label > .ag-header-cell-text {
    display: inline-block !important;
    width: 100% !important;
}

/* החזרת הקו המפריד האנכי בכותרת עצמה */
.ag-header-cell {
    border-left: 1px solid var(--ag-header-column-separator-color) !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* ביטול גבול כפול בעמודה הראשונה */
.ag-rtl .ag-header-cell:last-child {
    border-left: none !important;
}

.ag-header-cell, .ag-header-row {
    height: auto !important;
    min-height: 70px !important; 
}

/* === תיקון סופי: החזרת 3 הקווים (Menu Button) === */

/* 1. הסתרת אייקונים של מיון בלבד כדי לשמור על גובה אחיד */
.ag-header-cell .ag-sort-order,
.ag-header-cell .ag-sort-ascending-icon,
.ag-header-cell .ag-sort-descending-icon,
.ag-header-cell .ag-filter-icon {
    display: none !important;
}

/* 2. עיצוב כפתור התפריט (3 הקווים) - ממורכז למעלה */
.ag-header-cell-menu-button {
    position: absolute !important;
    top: 4px !important;              
    left: 50% !important;
    transform: translateX(-50%) !important; 
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 20px !important;
    height: 20px !important;
    z-index: 10 !important;
    
    /* ברירת מחדל: מוסתר (שקוף) */
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
    cursor: pointer;
}

/* 3. הצגת הכפתור כאשר העכבר מרחף מעל הכותרת */
.ag-header-cell:hover .ag-header-cell-menu-button {
    opacity: 1 !important;
}

/* 4. וידוא שהאייקון בתוך הכפתור גלוי וצבוע */
.ag-header-cell-menu-button .ag-icon {
    display: block !important;
    font-size: 14px !important;
    color: #0d6efd !important; /* כחול בולט */
}